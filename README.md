## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Local Development)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É–¥–æ–±–Ω—É—é –∏ –±—ã—Å—Ç—Ä—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Docker Compose**.
–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã (FastAPI, PostgreSQL, Redis, Adminer, pgAdmin) –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/your-username/auth-service.git
cd auth-service
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–∫–æ–ø–∏—Ä—É–π –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:

```bash
cp .env.dev.example .env.dev
```

> **–í–∞–∂–Ω–æ**: –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ Docker Swarm secrets –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–º vault-—Ä–µ—à–µ–Ω–∏–∏.

### 3. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker compose up -d
```

### 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Alembic)

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã:

```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker compose exec auth-dev alembic upgrade head

# –ò–ª–∏ –µ—Å–ª–∏ —Ö–æ—á–µ—à—å —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π
docker compose exec auth-dev alembic revision --autogenerate -m "–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è"
```

### 5. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
—Å–ª–µ–¥–∏—à—å –∑–∞ –ª–æ–≥–∞–º–∏ –∏ hot-reload'–æ–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):
```bash
docker compose logs -f auth-dev

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å volumes (–ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
docker compose down -v
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã:

| –°–µ—Ä–≤–∏—Å              | URL                              | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
|---------------------|----------------------------------|--------------------------------------------------------------------------|
| FastAPI (Auth)      | http://localhost:8000            | –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å                                                          |
| Swagger UI          | http://localhost:8000/docs       | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API                                           |
| Redoc               | http://localhost:8000/redoc       | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è                                              |
| Adminer             | http://localhost:8080            | –õ—ë–≥–∫–∏–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è PostgreSQL (–±—ã—Å—Ç—Ä–µ–µ pgAdmin)                     |
| pgAdmin 4           | http://localhost:5050            | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π GUI –¥–ª—è PostgreSQL (–≥—Ä–∞—Ñ–∏–∫–∏, ER-–¥–∏–∞–≥—Ä–∞–º–º—ã, –∞–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤)  |
| PostgreSQL          | –ø–æ—Ä—Ç 5432 (–¥–æ—Å—Ç—É–ø–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ)    | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö                                                              |
| Redis               | –ø–æ—Ä—Ç 6379 (–¥–æ—Å—Ç—É–ø–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ)    | –•—Ä–∞–Ω–∏–ª–∏—â–µ refresh-—Ç–æ–∫–µ–Ω–æ–≤, blacklist, rate limiting                      |

#### –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–∞–º —á–µ—Ä–µ–∑ GUI

**Adminer** (http://localhost:8080)
- System: `PostgreSQL`
- Server: `postgres-dev`
- Username: `auth_user`
- Password: `auth_pass`
- Database: `auth_db`

**pgAdmin** (http://localhost:5050)
- Email: `admin@example.com` (–∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `.env.dev`)
- Password: `supersecretpgadmin`
- –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä ‚Üí Host name/address: `postgres-dev`, Port: `5432`, Username/Password –∫–∞–∫ –≤—ã—à–µ


### –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å:
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ `/api/auth/v1/register`
- –õ–æ–≥–∏–Ω–∏—Ç—å—Å—è –∏ –ø–æ–ª—É—á–∞—Ç—å access + refresh —Ç–æ–∫–µ–Ω—ã
- –ù–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤ pgAdmin/Adminer
- –í–∏–¥–µ—Ç—å refresh-—Ç–æ–∫–µ–Ω—ã –∏ rate-limit –∫–ª—é—á–∏ –≤ Redis
- –ë—ã—Å—Ç—Ä–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã ‚Äî —Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏:
```bash
docker compose logs auth-dev
```

–£–¥–∞—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üöÄ
